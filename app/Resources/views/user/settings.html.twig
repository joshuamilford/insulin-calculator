{% extends 'base.html.twig' %}

{% block body %}

    <h1 class="page-header">Settings</h1>

    <div class="panel panel-default">
        <div class="panel-heading clearfix">
            <a href="{{ path('ratio_new') }}" class="btn btn-primary pull-right">Add New</a>
            <h2 class="panel-title">Ratios</h2>
        </div>
        <div class="panel-body">
            {% if user.ratios.count %}
                <ul class="list-group">
                    {% for item in user.ratios %}
                        <li class="list-group-item">
                            <a href="{{ path('ratio_edit', { id: item.id }) }}">
                                {{ item.name }}: 1 unit for per {{ item.carbs }} g. carb
                            </a>
                        </li>
                    {% endfor %}
                </ul>
            {% else %}
                <div class="alert alert-warning">
                    You haven't entered any ratios yet.
                </div>
            {% endif %}
        </div>
    </div>

    <div class="panel panel-default">
        <div class="panel-heading clearfix">
            <a href="{{ path('correction_factor_new') }}" class="btn btn-primary pull-right">Add New</a>
            <h2 class="panel-title">Correction Factors</h2>
        </div>
        <div class="panel-body">
            {% if user.correctionFactors.count %}
                <ul class="list-group">
                {% for item in user.correctionFactors %}
                    <li class="list-group-item">
                        <a href="{{ path('correction_factor_edit', { id: item.id }) }}">
                            {{ item.units }} unit{{ item.units == 1 ? '' : 's' }} when blood sugar at least {{ item.threshold }}
                        </a>
                    </li>
                {% endfor %}
                </ul>
            {% else %}
            <div class="alert alert-warning">
                You haven't entered any correction factors yet.
            </div>
            {% endif %}
        </div>
    </div>

    <div class="panel panel-default">
        <div class="panel-heading clearfix">
            <a href="{{ path('food_new') }}" class="btn btn-primary pull-right">Add New</a>
            <h2 class="panel-title">Foods</h2>
        </div>
        <div class="panel-body">
            {% if user.foods.count %}
                <ul class="list-group">
                    {% for item in user.foods %}
                        <li class="list-group-item">
                            <a href="{{ path('food_edit', { id: item.id }) }}">
                                {{ item.name }} ({{ item.carbs }} g carbs)
                            </a>
                        </li>
                    {% endfor %}
                </ul>
            {% else %}
                <div class="alert alert-warning">
                    You haven't entered any foods yet.
                </div>
            {% endif %}
        </div>
    </div>

{% endblock %}

